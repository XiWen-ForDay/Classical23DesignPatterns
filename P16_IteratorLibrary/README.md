迭代器模式最佳实践示例


豆包示例原型：

迭代器模式，简单说就是提供一种方法，能顺序访问一个聚合对象（比如列表、集合）里的所有元素，而且不用暴露这个对象的内部结构。
比如你做工控上位机时，可能需要遍历一个设备列表，显示每个设备的状态，
这时候用迭代器模式，就能统一遍历不同类型的设备集合，不用关心集合是数组还是链表实现的。
 
举个具体的例子，假设你的上位机里有两种设备集合：一种是PLC设备列表，用数组存储；另一种是传感器列表，用链表存储。
如果不用迭代器，你可能需要写两种遍历代码。
但用迭代器模式，你可以给这两个集合都实现一个统一的迭代器接口，里面有 Next() 和 HasNext() 方法，
这样遍历的时候，不管是PLC还是传感器，都能用同样的代码：先判断 HasNext() ，再用 Next() 获取下一个设备，大大简化了代码。
 
而且迭代器模式还能支持多种遍历方式，比如正常顺序遍历、逆序遍历，或者过滤特定状态的设备，
只需要换一个迭代器就行，不用修改集合本身的代码，这在你需要展示不同设备分组的时候特别好用。
