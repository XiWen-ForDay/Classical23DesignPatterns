访问者模式最佳实践示例


豆包示例原型：

访问者模式，简单说就是在不改变现有类结构的前提下，给这些类增加新的操作。
它的核心思想是，把对数据的操作和数据结构本身分离开来。
比如，你有一个设备集合，里面有PLC、传感器、报警器等不同类型的设备，
现在需要给所有设备新增一个“自检”操作，或者一个“数据备份”操作。
如果直接在每个设备类里加方法，会修改原有代码，违反开闭原则。
这时候就可以用访问者模式，定义一个访问者接口，里面包含对每种设备的访问方法，
然后让具体的访问者（比如自检访问者、备份访问者）实现这些方法，最后让设备类接受访问者的访问，执行相应的操作。
