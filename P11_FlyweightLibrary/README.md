享元模式最佳实践示例

豆包示例原型：

享元模式是一种结构型设计模式，主要用来减少对象的数量，从而节省内存。
它的核心思想，是把对象的状态分成内部状态和外部状态。内部状态是可以共享的，不会随环境变化；
外部状态是不能共享的，会随环境改变。
享元模式会创建一个工厂来管理这些共享的对象，当需要一个对象时，先去工厂里找，有就直接用，没有再新建。
你之前做过工控上位机，有没有遇到过需要处理大量相似对象的情况？
比如工控上位机的界面上，经常需要显示很多指示灯，来表示设备的不同状态，像运行、停止、故障这些。
如果每个指示灯都创建一个独立的对象，当设备很多时，内存开销就会很大。
这时候就可以用享元模式，把指示灯的颜色、形状这些内部状态共享起来，只需要为不同的设备编号等外部状态做区分。
这样，不管有多少个指示灯，都只需要几个共享的对象实例，能节省很多内存。